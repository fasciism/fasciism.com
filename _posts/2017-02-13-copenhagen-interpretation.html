---
layout: post
---

<p>
Emacs has an excellent undo system, once you get the hang of it. But as with all things Emacs, it could be better!
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">undo-tree</span>
  <span style="color: #839496; font-weight: bold;">:ensure</span> t
  <span style="color: #839496; font-weight: bold;">:pin</span> elpa
  <span style="color: #839496; font-weight: bold;">:diminish</span> undo-tree-mode
  <span style="color: #839496; font-weight: bold;">:bind</span>
  (<span style="color: #2aa198;">"C-z"</span> . undo)
  (<span style="color: #2aa198;">"M-z"</span> . undo-tree-redo)
  (<span style="color: #2aa198;">"C-M-z"</span> . undo-tree-visualize)
  <span style="color: #839496; font-weight: bold;">:config</span>
  (global-undo-tree-mode)
  (<span style="color: #859900; font-weight: bold;">setq</span> undo-tree-visualizer-diff t))
</pre>
</div>

<p>
Let's see how the undo tree looks for this buffer:
</p>


<div class="figure">
<p><img src="http://fasciism.com/img/2017-02-15-copenhagen-interpretation.png" alt="2017-02-15-copenhagen-interpretation.png" />
</p>
</div>

<p>
As you can see, I've performed several undo and redo operations at this point, and can navigate through them. If I choose any node in the undo tree, I will be presented with an explanatory diff telling me what that node's change represents in a small window.
</p>
